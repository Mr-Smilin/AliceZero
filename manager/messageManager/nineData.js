const BDB = require("../../baseJS/BaseDiscordBot.js");

module.exports = {
	data: [
		{
			message: "嗨! $[ID] 今天你也來了呢!",
			ticket: 6,
		},
		{
			message: "你說掃地是騎士的每日行程?\n...不，現在的我只是普通的村娘喔～",
			ticket: 2,
		},
		{
			message: "石頭每天都很閒呢www",
			ticket: 1,
		},
		{
			message: "雞排好色喔...",
			ticket: 1,
		},
		{
			message: "Aki姊好色喔...",
			ticket: 1,
		},
		{
			message: "掃地掃地掃地掃地",
			ticket: 4,
		},
		{
			message:
				"自從來到這之後的每一天都過得很開心! \n 如果桐人也..不，甚麼事都沒有喔",
			ticket: 1,
		},
		{
			message: "掃掃地",
			ticket: 1,
		},
		{
			message: "掃掃掃地",
			ticket: 1,
		},
		{
			message: "掃掃掃掃地",
			ticket: 1,
		},
		{
			message: "掃地",
			ticket: 4,
		},
		{
			message:
				"你看，我剛剛拿到這首歌! \n某個奇怪的人給我的，說是可以推薦給你聽看看喔~ \n https://www.youtube.com/watch?v=UDm5Vjj6_Qk",
			ticket: 1,
		},
		{
			message:
				"你看，我剛剛拿到這首歌! \n某個奇怪的人給我的，說是可以推薦給你聽看看喔~ \n https://www.youtube.com/watch?v=ziR1RrVide4",
			ticket: 1,
		},
		{
			message:
				"你看，我剛剛拿到這首歌! \n某個奇怪的人給我的，說是可以推薦給你聽看看喔~ \n https://www.youtube.com/watch?v=INXyLUQYH4Q",
			ticket: 1,
		},
		{
			message:
				"你看，我剛剛拿到這首歌! \n某個奇怪的人給我的，說是可以推薦給你聽看看喔~ \n https://www.youtube.com/watch?v=JQb3JwbxVN0",
			ticket: 1,
		},
		{
			message:
				"你看，我剛剛拿到這首歌! \n某個奇怪的人給我的，說是可以推薦給你聽看看喔~ \n https://www.youtube.com/watch?v=FQPB3KQs-Uw",
			ticket: 1,
		},
		{
			message:
				"你看，我剛剛拿到這首歌! \n某個奇怪的人給我的，說是可以推薦給你聽看看喔~ \n https://www.youtube.com/watch?v=ghR3vKjp14k",
			ticket: 1,
		},
		{
			message:
				"你看，我剛剛拿到這首歌! \n某個奇怪的人給我的，說是可以推薦給你聽看看喔~ \n https://www.youtube.com/watch?v=nHqXZKx9M9M",
			ticket: 1,
		},
		{
			message:
				"你看，我剛剛拿到這首...這是甚麼? \n是那個常常推薦歌曲的人給我的，但這不是歌...吧 \n 能請你幫我看看嗎? \n https://www.youtube.com/watch?v=ZqjVizn1064",
			ticket: 1,
		},
		{
			message: "最近有個人好像也在努力製作bot，要加油喔",
			ticket: 1,
		},
		{
			message:
				"灰色庭園是世界級的詐寢偶像，最常活躍在21區，喜歡的身體部位是肋骨；欸...你問甚麼是詐寢?到底是甚麼呢...",
			ticket: 1,
		},
		{
			message:
				"LanNI通稱班長，是亞絲娜群的大家長，屁眼迷因的發源人，後來因為跟企鵝心結後很少出現在主群，是位幽默的人",
			ticket: 1,
		},
		{
			message:
				"DVD是莉茲家的招牌，在很多地方都會出現~~跟石頭好像有一腿~~；曾經與主人口頭約定過有機會的話要出來吃個飯，不過因為疫情關係沒甚麼機會",
			ticket: 1,
		},
		{
			message:
				"米戈勒||沒有鼻子||是僅用兩個點跟一條線誕生的天地造物，時常被吐槽少了鼻子，但因為本人充滿自信所以有鼻子。因為疫情關係戴了口罩",
			ticket: 1,
		},
		{
			message:
				"底線是||神代凜子||SAO浮游城群組的管理人，在黃金時代曾舉辦相當多的活動，三觀清晰，管理也十分到位，是大家的大家長~~有傳言說底線是位可愛的女孩子~~",
			ticket: 1,
		},
		{
			message:
				"雞排是07群的超級偶像，因為活動範圍只在07居多，因此較少人認識~~但是非常可愛~~；由於跟雞排組隊打王的人大多都死掉了(半勝)，剋夫雞排傳說不脛而走",
			ticket: 1,
		},
		{
			message:
				"FutYue是詩奶群的~~女裝~~群主，後來因為個人生涯規劃決定引退，但是女裝大佬的稱號並沒有因此而消失，反而成為了不朽的傳奇",
			ticket: 1,
		},
		{
			message: "河河就是河河，很可愛",
			ticket: 1,
		},
		{
			message:
				"美祿是07群的重要夥伴，談吐間透漏著成熟，偷偷使用神聖術調查後的實際年齡是#@%$#^@永遠的17歲呦～",
			ticket: 1,
		},
		{
			message:
				"你看，我剛剛拿到這首歌! \n是`Hunter Synthesis Thirty`給我的，說是可以推薦給你聽看看喔~ \n https://www.youtube.com/watch?v=h4bhRPfK02I",
			ticket: 1,
		},
	],
	async execute(msg, data) {
		const authorId = BDB.MGetAuthorId(msg);
		if (!global.ninePeople.has(authorId)) {
			global.ninePeople.set(authorId, true);
			const message = randomOne(data);
			BDB.MSend(msg, valueChange(message, authorId));
		}
	},
};

function randomOne(nineDatas) {
	const lotteryBox = [];
	for (nineData of nineDatas) {
		for (let i = 0; i < nineData.ticket; i++) {
			lotteryBox.push(nineData.message);
		}
	}
	return lotteryBox[getRandomIntInclusive(0, lotteryBox?.length - 1)];
}

// 隨機取數
function getRandomIntInclusive(min, max) {
	min = Math.ceil(min);
	max = Math.floor(max);
	return Math.floor(Math.random() * (max - min + 1) + min);
}

//參數替換
function valueChange(message, authorId) {
	if (message.indexOf("$[ID]") != -1) {
		beforeStr = message.substring(0, message.indexOf("$[ID]"));
		afterStr = message.substring(message.indexOf("$[ID]") + 5, message.length);
		message = beforeStr + "<@" + authorId + ">" + afterStr;
	}

	return message;
}
